# Code Highlighting

`Nextra` uses [Shiki](https://shiki.matsu.io) and
[Rehype Pretty Code](https://github.com/FormidableLabs/prism-react-renderer) to
highlight the code blocks. This section covers how you can customze it.

## Meta strings

### Highlight lines

````mdx
```jsx {1,3-5}
import 'nextra-theme-docs/style.css'

export default function Nextra({ Component, pageProps }) {
  const getLayout = Component.getLayout || (page => page)
  return getLayout(<Component {...pageProps} />)
}
```
````

```jsx {1,4-5}
import 'nextra-theme-docs/style.css'

export default function Nextra({ Component, pageProps }) {
  const getLayout = Component.getLayout || (page => page)
  return getLayout(<Component {...pageProps} />)
}
```

### Title

````mdx
```jsx filename="_app.js"
import 'nextra-theme-docs/style.css'

export default function Nextra({ Component, pageProps }) {
  const getLayout = Component.getLayout || (page => page)
  return getLayout(<Component {...pageProps} />)
}
```
````

```jsx filename="_app.js"
import 'nextra-theme-docs/style.css'

export default function Nextra({ Component, pageProps }) {
  const getLayout = Component.getLayout || (page => page)
  return getLayout(<Component {...pageProps} />)
}
```

## Supported Languages

You can find a list of supported languages
[here](https://github.com/shikijs/shiki/blob/main/docs/languages.md).

### Custom Grammar

Shiki accepts a [VSCode TextMate Grammar](https://code.visualstudio.com/api/language-extensions/syntax-highlight-guide)
for syntax highlighting with custom language grammars.

You can provide these grammars by overriding the `getHighlighter` function in
`mdxOptions.rehypePrettyCodeOptions` option in your Nextra config (`next.config.mjs`):

```js
import {BUNDLED_LANGUAGES} from 'shiki';

nextra({
  ... // other options here
  mdxOptions: {
    rehypePrettyCodeOptions: {
      getHighlighter: options => getHighlighter({
        ...options,
        langs: [
          ...BUNDLED_LANGUAGES,
          // custom grammar options, see the Shiki documentation for how to provide these options
          {
            id: 'my-lang',
            scopeName: 'source.my-lang',
            aliases: ['mylang'], // Along with id, aliases will be included in the allowed names you can use when writing markdown.
            path: '../../public/syntax/grammar.tmLanguage.json',
          }
        ]
      })
    }
  },
})
```
